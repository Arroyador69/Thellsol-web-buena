<nav class="navbar">
    <div class="navbar-left">
        <img src="./images/logo-thellsol.png" alt="Logo Thellsol" class="navbar-logo" />
        <a href="index.html" class="navbar-link" data-translate="nav.home">Inicio</a>
        <a href="comprar.html" class="navbar-link" data-translate="nav.buy">Comprar</a>
        <a href="vender.html" class="navbar-link" data-translate="nav.sell">Vender</a>
    </div>
    <div class="navbar-center">
        <span class="navbar-title">ThellSol Real Estate</span>
    </div>
    <div class="navbar-right">
        <a href="informacion-legal.html" class="navbar-link" data-translate="nav.legal">Información Legal</a>
        <a href="contacto.html" class="navbar-link" data-translate="nav.contact">Contacto</a>
        <div class="dropdown language-dropdown-desktop" style="background:#232a3a;border-radius:8px;">
            <button class="navbar-link language-btn" onclick="toggleLanguageDropdown(event)" style="display:flex;align-items:center;gap:8px;"></button>
            <div class="dropdown-content" id="languageDropdownMenu" style="background:#232a3a;min-width:180px;border-radius:8px;box-shadow:0 2px 8px #0002;">
                <span class="language-flag" data-lang="es" title="Español" style="cursor:pointer;display:flex;align-items:center;padding:10px 18px;gap:8px;"><span class="fi fi-es" style="margin-right:6px;"></span> <span>Español</span></span>
                <span class="language-flag" data-lang="en" title="English" style="cursor:pointer;display:flex;align-items:center;padding:10px 18px;gap:8px;"><span class="fi fi-gb" style="margin-right:6px;"></span> <span>English</span></span>
                <span class="language-flag" data-lang="fr" title="Français" style="cursor:pointer;display:flex;align-items:center;padding:10px 18px;gap:8px;"><span class="fi fi-fr" style="margin-right:6px;"></span> <span>Français</span></span>
                <span class="language-flag" data-lang="ru" title="Русский" style="cursor:pointer;display:flex;align-items:center;padding:10px 18px;gap:8px;"><span class="fi fi-ru" style="margin-right:6px;"></span> <span>Русский</span></span>
                <span class="language-flag" data-lang="sv" title="Svenska" style="cursor:pointer;display:flex;align-items:center;padding:10px 18px;gap:8px;"><span class="fi fi-se" style="margin-right:6px;"></span> <span>Svenska</span></span>
            </div>
        </div>
    </div>
</nav>
<!-- Título centrado SIEMPRE visible en móvil -->
<div class="navbar-mobile-title" style="display:none;width:100vw;text-align:center;font-family:'Cormorant Garamond',serif;font-size:1.3rem;font-weight:700;letter-spacing:1px;color:#fff;background:#181e29;padding:10px 0 0 0;z-index:1201;position:fixed;left:0;top:0;">ThellSol Real Estate</div>
<!-- Botón hamburguesa robusto fuera del nav -->
<button id="hamburgerBtnFixed" aria-label="Abrir menú móvil" onclick="openMobileMenu()" style="display:none;flex-direction:column;justify-content:center;align-items:center;width:38px;height:38px;background:none;border:none;cursor:pointer;position:fixed;top:16px;right:18px;z-index:3000;box-shadow:0 2px 8px #0002;">
    <span style="display:block;width:24px;height:3px;background:#fff;margin:3px 0;border-radius:2px;"></span>
    <span style="display:block;width:24px;height:3px;background:#fff;margin:3px 0;border-radius:2px;"></span>
    <span style="display:block;width:24px;height:3px;background:#fff;margin:3px 0;border-radius:2px;"></span>
</button>
<div class="mobile-menu-bg" id="mobileMenuBg" onclick="closeMobileMenu()"></div>
<div class="mobile-menu" id="mobileMenu" style="background:#181e29;color:#fff;width:270px;max-width:90vw;">
    <div style="display:flex;flex-direction:column;align-items:center;gap:0;padding:18px 18px 0 18px;">
        <!-- Logo grande arriba -->
        <img src="./images/logo-thellsol.png" alt="Logo Thellsol" style="width:90px;height:90px;margin:0 auto 10px auto;display:block;border-radius:16px;background:#fff;object-fit:contain;box-shadow:0 2px 8px #0003;" />
        <button class="close-mobile-menu" onclick="closeMobileMenu()" style="background:none;border:none;color:#fff;font-size:2rem;cursor:pointer;align-self:flex-end;margin-top:-70px;margin-right:-10px;">&times;</button>
    </div>
    <div class="mobile-menu-content" style="display:flex;flex-direction:column;gap:8px;padding:18px;">
        <a href="index.html" class="navbar-link" style="color:#fff;font-size:1.1rem;font-weight:600;margin:12px 0;" data-translate="nav.home">Inicio</a>
        <a href="comprar.html" class="navbar-link" style="color:#fff;font-size:1.1rem;font-weight:600;margin:12px 0;" data-translate="nav.buy">Comprar</a>
        <a href="vender.html" class="navbar-link" style="color:#fff;font-size:1.1rem;font-weight:600;margin:12px 0;" data-translate="nav.sell">Vender</a>
        <a href="informacion-legal.html" class="navbar-link" style="color:#fff;font-size:1.1rem;font-weight:600;margin:12px 0;" data-translate="nav.legal">Información Legal</a>
        <a href="contacto.html" class="navbar-link" style="color:#fff;font-size:1.1rem;font-weight:600;margin:12px 0;" data-translate="nav.contact">Contacto</a>
        <div class="dropdown language-dropdown-mobile" style="background:#232a3a;border-radius:8px;margin-top:18px;">
            <button class="navbar-link language-btn" onclick="toggleLanguageDropdown(event)" style="display:flex;align-items:center;gap:8px;width:100%;text-align:left;"></button>
            <div class="dropdown-content" id="languageDropdownMenuMobile" style="background:#232a3a;min-width:180px;border-radius:8px;box-shadow:0 2px 8px #0002;">
                <span class="language-flag" data-lang="es" title="Español" style="cursor:pointer;display:flex;align-items:center;padding:10px 18px;gap:8px;"><span class="fi fi-es" style="margin-right:6px;"></span> <span>Español</span></span>
                <span class="language-flag" data-lang="en" title="English" style="cursor:pointer;display:flex;align-items:center;padding:10px 18px;gap:8px;"><span class="fi fi-gb" style="margin-right:6px;"></span> <span>English</span></span>
                <span class="language-flag" data-lang="fr" title="Français" style="cursor:pointer;display:flex;align-items:center;padding:10px 18px;gap:8px;"><span class="fi fi-fr" style="margin-right:6px;"></span> <span>Français</span></span>
                <span class="language-flag" data-lang="ru" title="Русский" style="cursor:pointer;display:flex;align-items:center;padding:10px 18px;gap:8px;"><span class="fi fi-ru" style="margin-right:6px;"></span> <span>Русский</span></span>
                <span class="language-flag" data-lang="sv" title="Svenska" style="cursor:pointer;display:flex;align-items:center;padding:10px 18px;gap:8px;"><span class="fi fi-se" style="margin-right:6px;"></span> <span>Svenska</span></span>
            </div>
        </div>
    </div>
</div>
<style>
@media (max-width: 900px) {
    .navbar-left, .navbar-right, .navbar-center {
        display: none !important;
    }
    .navbar {
        justify-content: center;
        padding: 0 10px;
    }
    .navbar-title {
        font-size: 20px;
    }
    #hamburgerBtnFixed {
        display: flex !important;
    }
    .mobile-menu {
        display: none;
        position: fixed;
        top: 0; right: 0;
        width: 270px;
        height: 100vh;
        background: #181e29;
        color: #fff;
        z-index: 1300;
        box-shadow: -2px 0 12px #0003;
        flex-direction: column;
        padding: 0;
        transition: transform 0.3s;
        transform: translateX(100%);
    }
    .mobile-menu.open {
        display: flex;
        transform: translateX(0);
    }
    .mobile-menu-bg {
        display: none;
        position: fixed;
        top: 0; left: 0; right: 0; bottom: 0;
        background: rgba(0,0,0,0.4);
        z-index: 1200;
    }
    .mobile-menu-bg.open {
        display: block;
    }
    .navbar-mobile-title {
        display: block !important;
    }
}
@media (min-width: 900px) {
    #hamburgerBtnFixed, .mobile-menu, .mobile-menu-bg, .navbar-mobile-title {
        display: none !important;
    }
}
.language-btn {
    background: #232a3a;
    color: #fff;
    border: 1.5px solid #3e7fff;
    border-radius: 8px;
    padding: 4px 14px;
    display: flex;
    align-items: center;
    gap: 8px;
    box-shadow: 0 2px 8px #0001;
    cursor: pointer;
    transition: background 0.2s, border 0.2s;
    font-weight: 500;
    position: relative;
}
.language-btn:hover, .language-btn:focus {
    background: #2d3a5a;
    border: 1.5px solid #b8c1d9;
}
.language-btn .fi {
    font-size: 1.2em;
}
</style>
<script>
function openMobileMenu() {
    document.getElementById('mobileMenu').classList.add('open');
    document.getElementById('mobileMenuBg').classList.add('open');
}
function closeMobileMenu() {
    document.getElementById('mobileMenu').classList.remove('open');
    document.getElementById('mobileMenuBg').classList.remove('open');
}
function mostrarHamburguesa() {
    var btn = document.getElementById('hamburgerBtnFixed');
    if(window.innerWidth < 900) {
        btn.style.display = 'flex';
    } else {
        btn.style.display = 'none';
    }
}
mostrarHamburguesa();
window.addEventListener('resize', mostrarHamburguesa);
function toggleLanguageDropdown(e) {
    e.stopPropagation();
    var dropdownDesktop = document.getElementById('languageDropdownMenu');
    var dropdownMobile = document.getElementById('languageDropdownMenuMobile');
    if (dropdownDesktop && e.target.closest('.language-dropdown-desktop')) {
        dropdownDesktop.style.display = dropdownDesktop.style.display === 'block' ? 'none' : 'block';
    }
    if (dropdownMobile && e.target.closest('.language-dropdown-mobile')) {
        dropdownMobile.style.display = dropdownMobile.style.display === 'block' ? 'none' : 'block';
    }
}
document.addEventListener('click', function() {
    var dropdownDesktop = document.getElementById('languageDropdownMenu');
    var dropdownMobile = document.getElementById('languageDropdownMenuMobile');
    if (dropdownDesktop) dropdownDesktop.style.display = 'none';
    if (dropdownMobile) dropdownMobile.style.display = 'none';
});
window.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('.mobile-menu a, .mobile-menu .language-flag').forEach(function(el) {
        el.addEventListener('click', function() {
            closeMobileMenu();
        });
    });
    var closeBtn = document.querySelector('.close-mobile-menu');
    if (closeBtn) closeBtn.addEventListener('click', closeMobileMenu);
    var bg = document.getElementById('mobileMenuBg');
    if (bg) bg.addEventListener('click', closeMobileMenu);
    var burger = document.getElementById('hamburgerBtnFixed');
    if (burger) burger.addEventListener('click', function() {
        if(document.getElementById('mobileMenu').classList.contains('open')) {
            closeMobileMenu();
        } else {
            openMobileMenu();
        }
    });
});
// Mostrar idioma y bandera seleccionados en el botón del selector al cargar el menú
function setLanguageButtonFromStorage() {
    var lang = localStorage.getItem('selectedLanguage') || 'es';
    var languages = {
        'es': { name: 'Español', flag: 'es' },
        'en': { name: 'English', flag: 'gb' },
        'fr': { name: 'Français', flag: 'fr' },
        'ru': { name: 'Русский', flag: 'ru' },
        'sv': { name: 'Svenska', flag: 'se' }
    };
    var langName = languages[lang] ? languages[lang].name : 'Español';
    var flagCode = languages[lang] ? languages[lang].flag : 'es';
    var langFlag = `fi fi-${flagCode}`;
    var globe = '<span style="font-size:1.2em;margin-right:4px;">🌐</span>';
    // Desktop
    var desktopBtn = document.querySelector('.language-dropdown-desktop .navbar-link');
    if (desktopBtn) {
        desktopBtn.innerHTML = `${globe}<span class="${langFlag}"></span> ${langName} <span style="font-size:12px;">▼</span>`;
    }
    // Móvil
    var mobileBtn = document.querySelector('.language-dropdown-mobile .navbar-link');
    if (mobileBtn) {
        mobileBtn.innerHTML = `${globe}<span class="${langFlag}"></span> ${langName} <span style="font-size:12px;">▼</span>`;
    }
}
window.setLanguageButtonFromStorage = setLanguageButtonFromStorage;
window.addEventListener('DOMContentLoaded', setLanguageButtonFromStorage);
</script> 